# ================================================================
# üöÄ ZK-PRET CONSOLIDATED ENVIRONMENT CONFIGURATION
# ================================================================
# Updated configuration to fix offline/disconnected status

# ================================================================
# üéõÔ∏è MASTER OPERATION MODE CONTROL
# ================================================================
# Changed to HTTP mode for immediate connection fix
OPERATION_MODE=HTTP

# ================================================================
# üåê CORE SERVER SETTINGS (Fixed URLs)
# ================================================================
ZK_PRET_WEB_APP_HOST=localhost
NODE_ENV=development

# ================================================================
# üìÇ DATA PATH CONFIGURATION (Common to all modes)
# ================================================================
# ZK-PRET Installation Path
ZK_PRET_STDIO_PATH=C:\CHAINAIM3003\mcp-servers\Dapp3.6-pret-test
ZK_PRET_STDIO_BUILD_PATH=./build/tests/with-sign

# Data Paths for File Picker APIs
ZK_PRET_DATA_BILLOFLADING=./src/data/scf/BILLOFLADING

# Process Data Paths (BPI verification)
ZK_PRET_DATA_PROCESS_PATH_SCF_EXPECTED=./src/data/scf/process/EXPECTED
ZK_PRET_DATA_PROCESS_PATH_SCF_ACTUAL=./src/data/scf/process/ACTUAL
ZK_PRET_DATA_PROCESS_PATH_DVP_EXPECTED=./src/data/DVP/process/EXPECTED
ZK_PRET_DATA_PROCESS_PATH_DVP_ACTUAL=./src/data/DVP/process/ACTUAL
ZK_PRET_DATA_PROCESS_PATH_STABLECOIN_EXPECTED=./src/data/STABLECOIN/process/EXPECTED
ZK_PRET_DATA_PROCESS_PATH_STABLECOIN_ACTUAL=./src/data/STABLECOIN/process/ACTUAL

# Risk Configuration Paths
ZK_PRET_DATA_RISK_BASEL3_CONFIG=./src/data/RISK/Basel3/CONFIG
ZK_PRET_DATA_RISK_ADVANCED_CONFIG=./src/data/RISK/Advanced/CONFIG
ZK_PRET_DATA_RISK_STABLECOIN_CONFIG=./src/data/RISK/StableCoin/CONFIG

# External Services
ACTUS_SERVER_URL=http://98.84.165.146:8083/eventsBatch

# ================================================================
# üîß SCRIPT MAPPINGS (Common to all modes)
# ================================================================
# Core Verification Scripts
ZK_PRET_SCRIPT_GLEIF=GLEIFOptimMultiCompanyVerificationTestWithSign.js
ZK_PRET_SCRIPT_CORPORATE_REG=CorporateRegistrationOptimMultiCompanyVerificationTestWithSign.js
ZK_PRET_SCRIPT_EXIM=EXIMOptimMultiCompanyVerificationTestWithSign.js
ZK_PRET_SCRIPT_COMPOSED=ComposedRecursiveOptim3LevelVerificationTestWithSign.js

# Business Integrity Scripts
ZK_PRET_SCRIPT_BSDI=BusinessStdIntegrityOptimMerkleVerificationTestWithSign.js
ZK_PRET_SCRIPT_BPI=BusinessProcessIntegrityVerificationFileTestWithSign.js

# Risk & Liquidity Scripts
ZK_PRET_SCRIPT_RISK_ADV=RiskLiquidityACTUSVerifierTest_adv_zk_WithSign.js
ZK_PRET_SCRIPT_RISK_BASEL3=RiskLiquidityACTUSVerifierTest_basel3_Withsign.js
ZK_PRET_SCRIPT_STABLECOIN_RESERVES=StablecoinProofOfReservesRiskVerificationTestWithSign.js

# Composed Proof Scripts
ZK_PRET_SCRIPT_COMPOSED_KYC=ComposedRecursiveOptim3LevelVerificationTestWithSign.js
ZK_PRET_SCRIPT_COMPOSED_FINANCIAL=ComposedRecurrsiveSCF3LevelProofs.js
ZK_PRET_SCRIPT_COMPOSED_INTEGRITY=ComposedRecursive3LevelVerificationTestWithSign.js
ZK_PRET_SCRIPT_COMPOSED_COMPREHENSIVE=ComposedRecursiveOptim3LevelVerificationTestWithSign.js

# ================================================================
# üéØ ACTIVE CONFIGURATION (FIXED FOR CONNECTION)
# ================================================================
# Port Configuration
ZK_PRET_WEB_APP_PORT=3000

# Server Configuration - FIXED to point to local server
ZK_PRET_SERVER_TYPE=http
ZK_PRET_SERVER_URL=http://localhost:3001
ZK_PRET_HTTP_SERVER_URL=http://localhost:3001
ZK_PRET_SERVER_TIMEOUT=1800000

# IMPORTANT: For Vercel deployment, change above URLs to:
# ZK_PRET_SERVER_URL=https://your-server-name.vercel.app
# ZK_PRET_HTTP_SERVER_URL=https://your-server-name.vercel.app

# ================================================================
# üîß HTTP MODE CONFIGURATION (Active)
# ================================================================
HTTP_PORT=3000
HTTP_SERVER_TYPE=http
HTTP_SERVER_URL=http://localhost:3001
HTTP_HTTP_SERVER_URL=http://localhost:3001
HTTP_TIMEOUT=1800000
HTTP_DISABLE_AUTO_FALLBACK=false
HTTP_LOG_LEVEL=info

# ================================================================
# üîÑ UNIFIED MODE (Backup Configuration)
# ================================================================
UNIFIED_PORT=3000
UNIFIED_SERVER_TYPE=unified  
UNIFIED_PREFERRED_MODE=auto
UNIFIED_HTTP_SERVER_URL=http://localhost:3001
UNIFIED_TIMEOUT=600000
UNIFIED_AUTO_SWITCH_ENABLED=true
UNIFIED_HTTP_HEALTH_CHECK_INTERVAL=30000
UNIFIED_RETRY_HTTP_INTERVAL=60000
UNIFIED_SHOW_MODE_INDICATOR=true
UNIFIED_ALLOW_MANUAL_MODE_SWITCH=true
UNIFIED_LOG_LEVEL=info

# ================================================================
# ü§ñ MCP MODE (AI Tool Integration)
# ================================================================
MCP_PORT=3003
MCP_SERVER_TYPE=stdio
MCP_SERVER_NAME=zk-pret-dapp
MCP_SERVER_VERSION=1.0.0
MCP_SERVER_PORT=3003
MCP_TIMEOUT=600000
MCP_LOG_LEVEL=info
MCP_NODE_ENV=production

# ================================================================
# üîí SECURITY SETTINGS (Common to all modes)
# ================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100
CORS_ORIGIN=http://localhost:3000

# ================================================================
# üåê WEBSOCKET & API SETTINGS (Common to all modes)
# ================================================================
WS_HEARTBEAT_INTERVAL=30000
API_PREFIX=/api/v1
MAX_REQUEST_SIZE=10mb

# ================================================================
# üîß DEVELOPMENT SETTINGS (Common to all modes)
# ================================================================
DEV_AUTO_RELOAD=true
DEV_SHOW_STACK_TRACES=true

# ================================================================
# ‚ö° ASYNC JOB FEATURES (Common to all modes)
# ================================================================
ENABLE_ASYNC_JOBS=true
ENABLE_WEBSOCKETS=true
ENABLE_JOB_PERSISTENCE=false
ENABLE_BROWSER_NOTIFICATIONS=true
ENABLE_JOB_RECOVERY=true
ENABLE_ENHANCED_UI=true
ENABLE_POLLING_FALLBACK=true

# ================================================================
# üìù QUICK START INSTRUCTIONS
# ================================================================
# 
# TO FIX THE "OFFLINE/DISCONNECTED" ISSUE:
# 
# Option 1 - Local Development (Recommended):
# 1. cd C:\CHAINAIM3003\mcp-servers\Dapp3.6server\Dapp3server
# 2. npm install express cors ws
# 3. npm run local (starts server on port 3001)
# 4. Keep this .env file as-is (points to localhost:3001)
# 5. Start your UI on port 3000
# 
# Option 2 - Vercel Deployment:
# 1. Deploy Dapp3.6server to Vercel
# 2. Update the URLs above to point to your Vercel app
# 3. Redeploy your UI to Vercel
# 
# Option 3 - Switch to STDIO Mode:
# 1. Change OPERATION_MODE=STDIO above
# 2. No server required - direct script execution
# 
# ================================================================